package mealsystem;

import CustomUtilities.CustomUtilities;
import ingredients.Ingredient;

public class ChangeIngredientBehavior implements MealBehavior {

	@Override
	public void behavior(Meal meal, Ingredient ingredient, int quantity) {
		if (meal.ingredients.contains(ingredient)){
			if (ingredient.getQuantity() + quantity < 0){
				throw new RuntimeException("Quantity cannot be less than 0!");
			} else {
				double quantity_changed = quantity - ingredient.getQuantity();
				ingredient.setQuantity(quantity);
				meal.extraIngredientsPrice += CustomUtilities.round((quantity_changed)*ingredient.priceperquantity,2);
				meal.totalIngredientsPrice += CustomUtilities.round(meal.extraIngredientsPrice,2);
			}
			
		} else {
			throw new RuntimeException("Ingredient not found!");
		}	
	}

}
