package enjoyyourmeal.Meals;

import enjoyyourmeal.ClientUser;

public class Ingredient {
	public String name;
	public Integer quantity;
	public double priceperquantity;
	public double totalprice;
	
	public Ingredient(String name, double priceperquantity){
		this.name = name;
		this.quantity = 1;
		this.priceperquantity = priceperquantity;
		this.totalprice = this.quantity * this.priceperquantity;
	}
	
	public Ingredient(String name, Integer quantity, double priceperquantity){
		this.name = name;
		this.quantity = quantity;
		this.priceperquantity = priceperquantity;
		this.totalprice = this.priceperquantity * this.quantity;
		
		if (this.quantity < 0){
			throw new RuntimeException("Quantity cannot be less than 0");
		}
	}
	
	
	public void addQuantity(Integer quantity){
		this.quantity = quantity;
		this.totalprice = priceperquantity * this.quantity;
	}
	
	public void removeQuantity(Integer quantity){
		if (this.quantity-quantity < 0){
			throw new RuntimeException("Quantity cannot be less than 0");
		} else {
			this.quantity = quantity;
			this.totalprice = priceperquantity * this.quantity;
		}
	}

	public double getPriceperquantity() {
		return priceperquantity;
	}

	public void setPriceperquantity(double priceperquantity) {
		this.priceperquantity = priceperquantity;
	}

	public double getTotalprice() {
		return totalprice;
	}

	protected void setTotalprice(double totalprice) {
		this.totalprice = totalprice;
	}

	protected void setName(String name) {
		this.name = name;
	}

	public void setQuantity(Integer quantity) {
		this.quantity = quantity;
	}

	public String getName(){
		return this.name;
	}
	
	public Integer getQuantity(){
		return this.quantity;
	}
	
	public double getTotalPrice(){
		return this.totalprice;
	}
	
	// Equals and hash
	/**
	 * Check if the user_name is the same
	 */
	@Override
	public boolean equals(Object o){
		if (o instanceof Ingredient){
			Ingredient c1 = (Ingredient) o; 
			return (c1.getName().equals(this.name));
		}
		return false;
	}
	/**
	 * overridden hashCode method
	 */
	
	@Override
	public int hashCode(){
    	int code = 0;
        for (int i=0; i < this.name.length(); i++){
        	char c = this.name.charAt(i);
        	int h = 41+((int)c+i)*(19+i);
        	code += h;
        }
		return code;
	}
	
	
}
